[English README](./README.md)
# NetWatch

NetWatch - простой скрипт на bash для мониторинга сетевого подключения к указанным хостам и выполнения скриптов при потере соединения.

## Содержание

- [Использование](#использование)
- [Примеры](#примеры)
- [Настройка](#настройка)

## Использование
```netwatch.sh ХОСТ СКРИПТ```

Где:
- `ХОСТ`: IP-адрес или имя хоста для мониторинга
- `СКРИПТ`: Команда или скрипт для выполнения при потере доступа к хосту

## Примеры
```bash 
netwatch.sh 1.1.1.1 /usr/local/bin/my_script 
netwatch.sh 8.8.8.8 reboot 
netwatch.sh 1.1.1.1 "echo hello world"
```
## Настройка
Сделайте скрипт исполняемым:
```bash
chmod +x netwatch.sh
```
Вы можете изменить время между проверками, изменив значение переменной DELAY в скрипте.

Скрипт проверяет наличие указанной команды или скрипта. Также он валидирует, что указанный хост является корректным IP-адресом.

## Как это работает

1. Скрипт выполняет ping указанного хоста каждые 10 секунд.
2. При потере доступа к хосту (три последовательных неудачные попытки пинга), он выполняет указанный скрипт.
3. Когда хост снова становится доступным, счетчики и статус сбрасываются.
